{"version":3,"sources":["hooks/form.js","todo.js","hooks/q.js","todo-list.js","app.js","index.js"],"names":["useForm","callback","useState","values","setValues","event","target","name","value","preventDefault","Todo","props","formData","json","JSON","stringify","fetch","process","method","headers","body","then","response","data","console","log","catch","error","handleChange","handleSubmit","onSubmit","onChange","placeholder","type","map","category","idx","key","min","max","Q","require","useQ","q","queue","subscribe","payload","message","publish","ToDoList","items","setItems","useEffect","record","results","item","_id","text","App","rootElement","document","getElementById","ReactDOM","render"],"mappings":"ocAEA,IAgBeA,EAhBC,SAAAC,GAAa,IAAD,EACEC,mBAAS,IADX,mBACnBC,EADmB,KACXC,EADW,KAa1B,MAAO,CAVc,SAAAC,GACnBD,E,yVAAU,CAAD,GAAMD,EAAN,eAAeE,EAAMC,OAAOC,KAAOF,EAAMC,OAAOE,UAGtC,SAAAH,GACnBA,EAAMI,iBAENR,EAASE,IAGyBA,ICwEvBO,MAnFf,SAAcC,GACZ,IADmB,EAEkBX,GAErC,SAA8BY,GAC5B,IAAIC,EAAOC,KAAKC,UAAUH,GAC1BI,MAAMC,8CAA2B,CAC/BC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMP,IAELQ,MAAK,SAAAC,GAAQ,OAAIA,EAAST,UAC1BQ,MAAK,SAAAE,GAAI,OAAIC,QAAQC,IAAIF,MACzBG,MAAMF,QAAQG,UAfA,mBAEZC,EAFY,KAEEC,EAFF,KAkBnB,OACE,0BACEC,SAAUD,GAEV,+BACE,2BACEE,SAAUH,EACVI,YAAY,yBACZzB,KAAK,OACL0B,KAAK,UAGT,+BACE,0CACA,4BAAQF,SAAUH,EAAcrB,KAAK,SACnC,iCAhCW,CAAC,YAAa,aAAc,OAiC3B2B,KAAI,SAACC,EAAUC,GAAX,OACd,4BAAQ5B,MAAO2B,EAAUE,IAAKD,GAC3BD,QAKT,+BACE,2BACEJ,SAAUH,EACVI,YAAY,MACZzB,KAAK,MACL0B,KAAK,UAGT,+BACE,2BACEF,SAAUH,EACVI,YAAY,WACZzB,KAAK,WACL0B,KAAK,UAGT,+BACE,2BAAOA,KAAK,QAAQ1B,KAAK,aAAa+B,IAAI,IAAIC,IAAI,QAEpD,+BACE,2BACER,SAAUH,EACVrB,KAAK,WACL0B,KAAK,QACLzB,MAAM,SALV,OASA,+BACE,2BACEuB,SAAUH,EACVrB,KAAK,WACL0B,KAAK,QACLzB,MAAM,UALV,MASA,qD,QClFAgC,EAAIC,EAAQ,IAkBHC,EAhBF,SAACC,GAEZ,IAAMC,EAAQ,IAAIJ,EAAEG,GAUpB,MAAO,CARW,SAACtC,EAAOJ,GACxB2C,EAAMC,UAAUxC,GAAO,SAACyC,GAAD,OAAa7C,EAAS6C,OAG/B,SAACH,EAAGtC,EAAO0C,GACzBP,EAAEQ,QAAQL,EAAGtC,EAAO0C,MCqBTE,MA7Bf,SAAkBtC,GAAQ,IAAD,EAEET,mBAAS,IAFX,mBAEhBgD,EAFgB,KAEVC,EAFU,OAGHT,EAAK,YAAlBG,EAHgB,oBAoBvB,OAXAO,qBAAW,WACTP,EAAU,UAAU,SAACE,GAAD,OALCD,EAK0BC,OAJ/CI,GAAU,SAACD,GAAD,4BAAeA,GAAf,CAAsBJ,EAAQO,YADpB,IAACP,KAOrB9B,MAAMC,+CACHI,MAAM,SAAAiC,GAAO,OAAIA,EAAQzC,UACzBQ,MAAM,SAAAE,GAAI,OAAI4B,EAAS5B,EAAK+B,YAC5B5B,MAAOF,QAAQG,SAEjB,IAID,4BAEIuB,EAAMhB,KAAK,SAACqB,EAAKnB,GAAN,OAAc,wBAAIC,IAAKkB,EAAKC,KAAMD,EAAKE,W,MCL3CC,MAbf,SAAa/C,GACX,OACE,iCACE,6BACE,kBAAC,EAAD,OAEF,6BACE,kBAAC,EAAD,SCVFgD,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAO,kBAAC,EAAD,MAASJ,K","file":"static/js/main.f85c5668.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useForm = callback => {\n  const [values, setValues] = useState({});\n\n  const handleChange = event => {\n    setValues({ ...values, [event.target.name]: event.target.value });\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    // event.target.reset();\n    callback(values);\n  };\n\n  return [handleChange, handleSubmit, values];\n};\n\nexport default useForm;\n","import React from 'react';\n\nimport useForm from './hooks/form.js';\n\nfunction Todo(props) {\n  const categories = ['Housework', 'Schoolwork', 'Fun'];\n  const [handleChange, handleSubmit] = useForm(saveFormDataToServer);\n\n  function saveFormDataToServer(formData) {\n    let json = JSON.stringify(formData);\n    fetch(process.env.REACT_APP_API, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: json,\n    })\n      .then(response => response.json())\n      .then(data => console.log(data))\n      .catch(console.error);\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n    >\n      <label>\n        <input\n          onChange={handleChange}\n          placeholder=\"What do you want to do\"\n          name=\"text\"\n          type=\"text\"\n        />\n      </label>\n      <label>\n        <span>Category</span>\n        <select onChange={handleChange} name=\"aisle\">\n          <option />\n          {categories.map((category, idx) => (\n            <option value={category} key={idx}>\n              {category}\n            </option>\n          ))}\n        </select>\n      </label>\n      <label>\n        <input\n          onChange={handleChange}\n          placeholder=\"Dte\"\n          name=\"due\"\n          type=\"date\"\n        />\n      </label>\n      <label>\n        <input\n          onChange={handleChange}\n          placeholder=\"Assignee\"\n          name=\"assignee\"\n          type=\"text\"\n        />\n      </label>\n      <label>\n        <input type=\"range\" name=\"difficulty\" min=\"1\" max=\"11\" />\n      </label>\n      <label>\n        <input\n          onChange={handleChange}\n          name=\"complete\"\n          type=\"radio\"\n          value=\"true\"\n        />\n        Yes\n      </label>\n      <label>\n        <input\n          onChange={handleChange}\n          name=\"complete\"\n          type=\"radio\"\n          value=\"false\"\n        />\n        No\n      </label>\n      <button>Add to the list</button>\n    </form>\n  );\n}\n\nexport default Todo;\n","const Q = require('@nmq/q/client');\n\nconst useQ = (q) => {\n\n  const queue = new Q(q);\n\n  const subscribe = (event, callback) => {\n    queue.subscribe(event, (payload) => callback(payload) );\n  };\n\n  const publish = (q, event, message) => {\n    Q.publish(q, event, message);\n  };\n\n  return [subscribe, publish];\n\n};\n\nexport default useQ;\n","import React, {useState, useEffect} from 'react';\nimport useQ from './hooks/q.js';\n\nfunction ToDoList(props) {\n\n  const [items,setItems] = useState([]);\n  const [subscribe] = useQ('database');\n\n  const handleNewItem = (payload) => {\n    setItems( (items) => [...items, payload.record] );\n  };\n\n  useEffect( () => {\n    subscribe('create', (message) => handleNewItem(message));\n\n    fetch(process.env.REACT_APP_API)\n      .then( results => results.json() )\n      .then( data => setItems(data.results) )\n      .catch( console.error );\n\n  }, []);\n\n\n  return (\n    <ul>\n      {\n        items.map( (item,idx) => <li key={item._id}>{item.text}</li>)\n      }\n    </ul>\n  );\n}\n\nexport default ToDoList;\n","import React from 'react';\n\nimport Shopping from './shopping.js';\nimport Todo from './todo.js';\nimport TodoList from './todo-list.js';\n\nimport './app.scss';\n\nfunction App(props) {\n  return (\n    <section>\n      <div>\n        <Todo />\n      </div>\n      <div>\n        <TodoList />\n      </div>\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}